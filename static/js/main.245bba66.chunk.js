(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(30)},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),u=n(1),l=n(10),s=n.n(l),i=n(16),m=n(6),d=n(14),p=n(4),E=function(e){return fetch(e).then(function(e){return e.json()})},f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_INITIALIZED"===t.type?t.value:e},v=function(e){return{type:"SET_POSTS",payload:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.payload;case"DELETE_POST":return e.filter(function(e){return e.id!==t.payload});case"DELETE_COMMENT":return e.map(function(e){return e.id===t.postId?Object(m.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.commentId})}):e});default:return e}},h=function(e){return{type:"SET_LOADING",value:e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_LOADING"===t.type?t.value:e},N=function(e){return{type:"SET_ERROR",value:e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_ERROR"===t.type?t.value:e},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_QUERY"===t.type?t.query:e},T=function(e){return e.isLoading},O=function(e){return e.hasError},S=function(e){return e.isInitialized},L=function(e){return e.posts.filter(function(t){return(t.title+t.body).toLowerCase().includes(e.query)})},j=function(e,t,n){return e.map(function(e){return Object(m.a)({},e,{user:t.find(function(t){return t.id===e.userId}),comments:n.filter(function(t){return t.postId===e.id})})})},_=Object(p.c)({posts:y,isLoading:b,hasError:g,isInitialized:f,query:I}),C=Object(p.d)(_,Object(p.a)(d.a)),k=n(15);n(29);var w=function(e){var t=e.user,n=t.name,a=t.email;return r.a.createElement("div",null,r.a.createElement("h3",{className:"user-name"},n),r.a.createElement("p",null,a))},D=Object(u.b)(function(e){return{data:e.data}},{deleteComment:function(e,t){return{type:"DELETE_COMMENT",postId:e,commentId:t}}})(function(e){var t=e.postId,n=e.comment,a=e.deleteComment,o=n.id,c=n.name,u=n.body,l=n.email;return r.a.createElement("div",{className:"comment"},r.a.createElement("h3",{className:"comment-name"},c),r.a.createElement("p",{className:"comment-body"},u),r.a.createElement("p",{className:"comment-email"},r.a.createElement("span",null,"By "),l),r.a.createElement("button",{onClick:function(){return a(t,o)},className:"delete-comment",type:"button"},"Delete comment"),r.a.createElement("hr",null))}),P=function(e){var t=e.postId,n=e.comments;return r.a.createElement("div",null,n.map(function(e){return r.a.createElement(D,{comment:e,postId:t,key:e.id})}))},R=Object(u.b)(function(e){return{data:e.data}},{deletePost:function(e){return{type:"DELETE_POST",payload:e}}})(function(e){var t=e.post,n=e.deletePost,a=t.title,o=t.body,c=t.user,u=t.id,l=t.comments;return r.a.createElement("div",{className:"posts"},r.a.createElement("div",{className:"flip-container"},r.a.createElement("button",{className:"delete-post",onClick:function(){return n(u)},type:"button"},"Delete"),r.a.createElement("div",{className:"flipper"},r.a.createElement("div",{className:"front"},r.a.createElement("h2",{className:"front-heading"},a),r.a.createElement("p",{className:"front-body"},'"'.concat(o,'"')),r.a.createElement(w,{user:c})),r.a.createElement("div",{className:"back"},r.a.createElement("p",{className:"back-heading"},"Comments:"),r.a.createElement(P,{comments:l,postId:u})))))}),x=Object(u.b)(function(e){return{posts:L(e)}})(function(e){var t=e.posts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"count-posts"},"Count of posts:"," ",t.length),t.map(function(e){return r.a.createElement(R,{post:e,key:e.id})}))}),A={setQuery:function(e){return{type:"SET_QUERY",query:e}},getPostsFromServer:function(){return function(e){var t,n,a,r,o;return s.a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return e(N(!1)),e(h(!0)),c.prev=2,c.next=5,s.a.awrap(Promise.all([E("https://jsonplaceholder.typicode.com/posts"),E("https://jsonplaceholder.typicode.com/users"),E("https://jsonplaceholder.typicode.com/comments")]));case 5:t=c.sent,n=Object(i.a)(t,3),a=n[0],r=n[1],o=n[2],e(v(j(a,r,o))),e({type:"SET_INITIALIZED",value:!0}),c.next=17;break;case 14:c.prev=14,c.t0=c.catch(2),e(N(!0));case 17:e(h(!1));case 18:case"end":return c.stop()}},null,null,[[2,14]])}}},q=Object(u.b)(function(e){return{isLoading:T(e),hasError:O(e),isInitialized:S(e)}},A)(function(e){var t=e.isLoading,n=e.hasError,a=e.isInitialized,o=e.setQuery,c=e.getPostsFromServer;return r.a.createElement("div",{className:"App"},!a&&!t&&!n&&r.a.createElement("button",{type:"button",className:"btnLoad",onClick:c},"Load"),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(k.DebounceInput,{debounceTimeout:500,type:"text",placeholder:"Search",className:"search",onChange:function(e){var t=e.target;o(t.value.toLowerCase().trim())}}),r.a.createElement(x,null)),n&&r.a.createElement("button",{className:"btnError",type:"button",onClick:c},"Error...Try again"),t&&!n&&r.a.createElement("div",{className:"hoja"},"Loading..."))});c.a.render(r.a.createElement(u.a,{store:C},r.a.createElement(q,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.245bba66.chunk.js.map